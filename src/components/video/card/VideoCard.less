@import '../../../../resources/styles/_keyframes';
@import '../../../../resources/styles/_antd-theme';

@video-width: 304px;
@video-height: 228px;
@video-border-radius: 8px;

.ant-card.video-card {
  position: relative;

  &:nth-of-type(1) {
    margin-top: 20px;
  }

  margin-top: 28px;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2), 0 1px 3px 0 rgba(0, 0, 0, 0.1);
  border-radius: @video-border-radius;

  .subjects-container {
    margin-bottom: 1em;
    margin-top: 0px;
  }

  .ant-skeleton {
    @media (max-width: @screen-md) {
      display: flex;
      width: 100%;
      flex-direction: column;
    }

    .ant-skeleton-header {
      @media (max-width: @screen-md) {
        padding: 0px;
      }

      .ant-skeleton-avatar-lg {
        border-radius: @video-border-radius;
        @media (min-width: @screen-md) {
          width: @video-width;
          height: @video-height;
        }

        @media (max-width: @screen-md) {
          width: 100%;
          height: 200px;
        }
      }
    }

    .ant-skeleton-paragraph,
    .ant-skeleton-title {
      @media (max-width: @screen-md) {
        margin: 12px;
      }
    }
  }

  .ant-card-body {
    height: 100%;
    @media (max-width: @screen-md) {
      padding: 0px;
    }
  }

  .plyr__video-wrapper {
    .plyr__poster {
      background-size: cover;
      max-height: @video-height;
    }

    video,
    iframe {
      max-height: @video-height;
    }
  }

  .plyr__video-embed {
    height: auto;
    padding-bottom: 0px !important;
    position: relative;

    iframe {
      border: 0;
      left: 0;
      position: relative;
      top: 0;
    }
  }

  // Don't restrict height to video-card container when fullscreen
  .plyr--fullscreen-enabled .plyr__video-embed {
    height: inherit;
  }

  .plyr--video {
    @media (max-width: @screen-md) {
      border-radius: @video-border-radius @video-border-radius 0px 0px;
    }
  }
}

*:fullscreen {
  video,
  iframe,
  .plyr__video-wrapper,
  .plyr__poster {
    max-height: none !important;
  }
}

*:-webkit-full-screen {
  video,
  iframe,
  .plyr__video-wrapper,
  .plyr__poster {
    max-height: none !important;
  }
}

*:-ms-fullscreen {
  video,
  iframe,
  .plyr__video-wrapper,
  .plyr__poster {
    max-height: none !important;
  }
}

*:-moz-full-screen {
  video,
  iframe,
  .plyr__video-wrapper,
  .plyr__poster {
    max-height: none !important;
  }
}

.video-content {
  display: flex;
  flex-wrap: wrap;
  justify-content: left;
  height: 100%;
  animation: fade-in 0.4s ease;

  @media (max-width: @screen-md) {
    flex-direction: column;
  }
  .video-header {
    @media (max-width: @screen-md) {
      order: 2;
    }
  }

  .boclips-player {
    @media (min-width: @screen-md) {
      width: @video-width;
    }

    @media (max-width: @screen-md) {
      width: 100%;
      order: 1;
    }

    video {
      width: 100%;
      height: 100%;
      background-color: black;
    }
  }

  .video-details {
    @description-left-margin: 24px;
    display: flex;
    flex-direction: column;

    @media (min-width: @screen-md) {
      margin: 0 0 0 @description-left-margin;
      width: calc(100% - (@video-width + @description-left-margin));
    }

    @media (max-width: @screen-md) {
      order: 3;
      width: 100%;
      margin-left: 0px;
      padding: 12px;
    }

    .no-underline {
      text-decoration: none;
    }

    .description {
      @media (min-width: @screen-md) {
        &.clamp-3-lines {
          overflow: hidden;
          text-overflow: ellipsis;
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          max-height: 72px;
        }
      }

      @media (max-width: @screen-md) {
        &.clamp-3-lines {
          overflow: hidden;
          text-overflow: ellipsis;
          display: -webkit-box;
          -webkit-line-clamp: 5;
          -webkit-box-orient: vertical;
          max-height: 120px;
        }
      }
    }

    .copy-link-button {
      align-self: flex-start;
      margin-right: 10px;
    }

    .toggle-collection-button {
      margin-top: 4px;

      img {
        margin-right: 4px;
      }
    }

    .buttons-row {
      margin-top: auto;
    }
  }
}
